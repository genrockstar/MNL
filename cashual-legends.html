<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cashual Legends</title>
    <link rel="icon" href="favicon.png" type="image/png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&family=Luckiest+Guy&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-mario { font-family: 'Luckiest Guy', cursive; letter-spacing: 2px; text-shadow: 3px 3px 0px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
        
        html { scroll-behavior: smooth; -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
        
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .animate-zoom-in { animation: zoomIn 0.3s ease-out forwards; }
        @keyframes zoomIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        audio::-webkit-media-controls-panel { background-color: #cbd5e1; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0f172a; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; border: 2px solid #0f172a; }
        
        .dropdown:hover .dropdown-menu { display: block; }

        /* Inventory Item Slots */
        .item-slot { 
            background: radial-gradient(circle, #1e293b 0%, #020617 100%); 
            border: 1px solid #475569; 
            box-shadow: inset 0 0 15px #000; 
            transition: all 0.2s; 
        }
        .item-slot:hover { border-color: #f59e0b; box-shadow: 0 0 15px rgba(245, 158, 11, 0.4); }
        
        /* Skill Icons */
        .skill-icon-q { background: linear-gradient(135deg, #ef4444, #991b1b); border: 2px solid #fca5a5; }
        .skill-icon-w { background: linear-gradient(135deg, #3b82f6, #1e40af); border: 2px solid #93c5fd; }
        .skill-icon-e { background: linear-gradient(135deg, #10b981, #065f46); border: 2px solid #6ee7b7; }
        .skill-icon-r { background: linear-gradient(135deg, #a855f7, #6b21a8); border: 2px solid #d8b4fe; box-shadow: 0 0 15px rgba(168, 85, 247, 0.6); }
    </style>
</head>
<body class="bg-slate-950 text-slate-200 min-h-screen selection:bg-amber-500/30 pb-40 overflow-x-hidden">

    <nav class="fixed top-0 w-full bg-slate-900/95 backdrop-blur-md border-b border-slate-800 z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <div class="flex items-center gap-3 font-bold text-2xl text-amber-500 tracking-wider hover:text-amber-400 transition-colors cursor-pointer" onclick="switchTab('home')">
                <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>
                <span class="hidden md:inline font-mario text-3xl">CASHUAL LEGENDS</span>
                <span class="md:hidden font-mario">CASHUAL</span>
            </div>
            
            <div class="flex gap-1 md:gap-4 text-[10px] md:text-sm font-medium items-center">
                <button onclick="switchTab('home')" id="btn-home" class="group relative px-2 py-1 md:px-4 md:py-2 rounded-full transition-all text-slate-400 hover:text-white shrink-0">Home</button>
                
                <div class="relative dropdown group">
                    <button id="btn-warriors-main" class="flex items-center gap-1 px-2 py-1 md:px-4 md:py-2 rounded-full transition-all text-slate-400 hover:text-white shrink-0">
                        Warriors <svg class="w-3 h-3" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg>
                    </button>
                    <div class="dropdown-menu absolute hidden pt-4 top-full left-0 z-50 min-w-[160px]">
                        <div class="bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden flex flex-col p-1">
                            <button onclick="switchTab('warriors')" class="text-left px-4 py-3 hover:bg-slate-800 rounded-lg text-slate-300 hover:text-white transition-colors">The Five</button>
                            <button onclick="switchTab('simula')" class="text-left px-4 py-3 hover:bg-slate-800 rounded-lg text-cyan-400 hover:text-cyan-200 transition-colors">Simula</button>
                            <button onclick="switchTab('wakas')" class="text-left px-4 py-3 hover:bg-slate-800 rounded-lg text-rose-400 hover:text-rose-200 transition-colors">Wakas</button>
                        </div>
                    </div>
                </div>

                <button onclick="switchTab('aftermath')" id="btn-aftermath" class="group relative px-2 py-1 md:px-4 md:py-2 rounded-full transition-all text-slate-400 hover:text-white shrink-0">Ritual</button>
                <button onclick="switchTab('history')" id="btn-history" class="group relative px-2 py-1 md:px-4 md:py-2 rounded-full transition-all text-slate-400 hover:text-white shrink-0">History</button>
                <button onclick="switchTab('social')" id="btn-social" class="group relative px-2 py-1 md:px-4 md:py-2 rounded-full transition-all text-slate-400 hover:text-white shrink-0">Community</button>
            </div>
        </div>
    </nav>

    <main class="pt-28 px-6 max-w-7xl mx-auto min-h-[80vh]">
        
        <div id="view-home" class="space-y-16 animate-fade-in">
            <div class="text-center space-y-6 py-12">
                <h1 class="font-mario text-6xl md:text-8xl lg:text-9xl text-white tracking-widest drop-shadow-[5px_5px_0_rgba(245,158,11,0.8)]">CASHUAL LEGENDS</h1>
                <div class="flex items-center justify-center gap-4">
                    <div class="h-1 w-12 md:w-24 bg-amber-500 rounded-full"></div>
                    <p class="text-xl md:text-3xl text-amber-500 font-bold uppercase tracking-[0.2em] font-mario" style="text-shadow: 2px 2px 0 #000;">The New Age</p>
                    <div class="h-1 w-12 md:w-24 bg-amber-500 rounded-full"></div>
                </div>
                <p class="text-slate-400 max-w-3xl mx-auto leading-relaxed text-lg md:text-xl">The ancient pacts have evolved. From the blood-soaked soils of history, a new generation rises to answer the call of Mahalima.</p>
            </div>
            <div class="rounded-3xl overflow-hidden border-4 border-slate-800 shadow-[0_0_60px_rgba(0,0,0,0.6)] relative group max-w-6xl mx-auto cursor-default">
                <div class="aspect-video bg-gradient-to-br from-slate-800 to-slate-900 relative flex items-center justify-center overflow-hidden">
                    <img src="1767948987926.jpg" alt="Casual Legends" class="absolute inset-0 w-full h-full object-cover z-10" onerror="this.style.display='none'">
                    <div class="text-slate-700 font-black text-6xl z-0 opacity-20">CL</div>
                </div>
                <div class="absolute bottom-0 left-0 right-0 p-8 md:p-16 text-center lg:text-left flex flex-col lg:flex-row items-end justify-between gap-8 bg-gradient-to-t from-slate-950 via-slate-950/80 to-transparent z-20">
                    <div class="text-left space-y-4 max-w-2xl">
                        <span class="bg-amber-600 text-white text-xs font-bold px-4 py-1.5 rounded-full uppercase tracking-wider shadow-lg animate-pulse font-mario" style="text-shadow:none;">Live Season</span>
                        <h3 class="text-3xl md:text-5xl font-bold text-white drop-shadow-2xl">Guardians of the Modern Arena</h3>
                        <p class="text-slate-200 text-base md:text-lg drop-shadow-md leading-relaxed">Choose your allegiance: The Tech-Druids of Simula or the Shadow-Walkers of Wakas.</p>
                    </div>
                    <div class="flex gap-4">
                        <button onclick="switchTab('simula')" class="px-8 py-3 bg-cyan-700 hover:bg-cyan-600 text-white font-bold rounded-full transition-all shadow-lg font-mario" style="text-shadow:none;">Team Simula</button>
                        <button onclick="switchTab('wakas')" class="px-8 py-3 bg-rose-700 hover:bg-rose-600 text-white font-bold rounded-full transition-all shadow-lg font-mario" style="text-shadow:none;">Team Wakas</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-history" class="space-y-12 animate-fade-in hidden">
            <div class="text-center space-y-6 py-10">
                <h1 class="text-5xl md:text-7xl font-mario text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-amber-500 to-amber-700" style="text-shadow: 2px 2px 0 #000; -webkit-text-stroke: 1px black;">THE CHRONICLES</h1>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
                <div onclick="switchTab('history-ch1')" class="chapter-card bg-slate-900 border border-slate-800 p-8 rounded-3xl cursor-pointer hover:bg-slate-800 hover:border-amber-500/50 transition-all duration-300 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition-opacity"><h1 class="text-9xl font-black text-amber-500">I</h1></div>
                    <div class="relative z-10"><span class="text-amber-500 font-bold text-xs uppercase tracking-widest">Chapter I</span><h3 class="text-2xl font-bold text-white mt-2 mb-4 font-mario">Salt & Steel</h3></div>
                </div>
                <div onclick="switchTab('history-ch2')" class="chapter-card bg-slate-900 border border-slate-800 p-8 rounded-3xl cursor-pointer hover:bg-slate-800 hover:border-cyan-500/50 transition-all duration-300 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition-opacity"><h1 class="text-9xl font-black text-cyan-500">II</h1></div>
                    <div class="relative z-10"><span class="text-cyan-500 font-bold text-xs uppercase tracking-widest">Chapter II</span><h3 class="text-2xl font-bold text-white mt-2 mb-4 font-mario">Child of the Wolf</h3></div>
                </div>
                <div onclick="switchTab('history-ch3')" class="chapter-card bg-slate-900 border border-slate-800 p-8 rounded-3xl cursor-pointer hover:bg-slate-800 hover:border-teal-500/50 transition-all duration-300 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition-opacity"><h1 class="text-9xl font-black text-teal-500">III</h1></div>
                    <div class="relative z-10"><span class="text-teal-500 font-bold text-xs uppercase tracking-widest">Chapter III</span><h3 class="text-2xl font-bold text-white mt-2 mb-4 font-mario">School of Simula</h3></div>
                </div>
                <div onclick="switchTab('history-ch4')" class="chapter-card bg-slate-900 border border-slate-800 p-8 rounded-3xl cursor-pointer hover:bg-slate-800 hover:border-indigo-500/50 transition-all duration-300 relative group overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition-opacity"><h1 class="text-9xl font-black text-indigo-500">IV</h1></div>
                    <div class="relative z-10"><span class="text-indigo-500 font-bold text-xs uppercase tracking-widest">Chapter IV</span><h3 class="text-2xl font-bold text-white mt-2 mb-4 font-mario">Trial of Youth</h3></div>
                </div>
                <div onclick="switchTab('history-ch5')" class="chapter-card bg-slate-900 border border-slate-800 p-8 rounded-3xl cursor-pointer hover:bg-slate-800 hover:border-rose-500/50 transition-all duration-300 relative group overflow-hidden md:col-span-2 lg:col-span-2">
                    <div class="absolute top-0 right-0 p-4 opacity-20 group-hover:opacity-30 transition-opacity"><h1 class="text-9xl font-black text-rose-500">V</h1></div>
                    <div class="relative z-10"><span class="text-rose-500 font-bold text-xs uppercase tracking-widest">Chapter V</span><h3 class="text-2xl font-bold text-white mt-2 mb-4 font-mario">The Coliseum Battles</h3></div>
                </div>
            </div>
        </div>

        <div id="view-history-ch1" class="hidden animate-fade-in space-y-8 max-w-4xl mx-auto pb-10">
            <button onclick="switchTab('history')" class="text-slate-400 hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-widest mb-4"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to Contents</button>
            <div class="bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between border-b border-slate-800 pb-6 mb-8 gap-4">
                    <div><span class="text-amber-500 font-bold text-xs uppercase tracking-widest block mb-2">Chapter I</span><h2 class="text-4xl lg:text-5xl font-bold text-white font-mario">Salt & Steel</h2></div>
                    <audio controls class="h-10 w-full md:w-64 rounded opacity-90" style="filter: invert(0.9) hue-rotate(180deg);"><source src="The Eternal Five Sacrifice and The Wolf.mp3" type="audio/mpeg"></audio>
                </div>
                <div class="story-text text-slate-300 text-lg">
                    <p>Long before the arena was built, in the Golden Age of the Sulubasi, there lived five brothers. They were not bound by blood, but by something stronger: salt in their veins and steel in their spines. They were the Eternal Five: Pablo, Josh, Justin, Ken, and Stell.</p>
                    <p>Their paradise was shattered not by magic, but by iron. Invaders arrived in iron-clad ships from Germania, bringing only brute force. The brothers knew that to save their home, they could not just be warriors; they had to become aspects of war itself.</p>
                    <h3 class="text-2xl font-bold text-white mt-8 mb-4">The Wall and The Soul</h3>
                    <p>First, there was Josh. When the brute force of the iron ships crashed against the shore, Josh did not strike back. He stood without a weapon, holding only a shield. He became The Wall. He held the pass alone, taking a thousand blows so his brothers would not have to take one. He was the definition of the Tank—ultimate sacrifice through raw endurance.</p>
                    <p>Behind him stood Justin, the Gentle Soul. Amidst the fire and blood, Justin refused to carry a weapon. Instead, he possessed a lost magic, pouring his own life force into his kin. He knitted his kin back together, healing their broken bodies by unraveling his own spirit. When he fell, the legend says he died with a smile on his face, believing he had saved them all.</p>
                    <h3 class="text-2xl font-bold text-white mt-8 mb-4">The Arrow and The Ghost</h3>
                    <p>As the invasion shifted from brute force to the disciplined fleets of the French, the brothers changed their tactics. Stell climbed to the high cliffs. He became The Arrow. He did not aim to sink the hulls; he aimed to create terror. Using lightning-bolt arrows, he would pin a captain’s sleeve to the mast, immobilizing the command and crippling their will before they even made landfall.</p>
                    <p>Below in the jungle, Ken became The Ghost. He was the silent hunter, the counter-assassin who ensured the soil itself was protected. While Stell rained terror from above, Ken moved unseen through the trees, guarding the land with silence and blood.</p>
                    <h3 class="text-2xl font-bold text-white mt-8 mb-4">The Wolf</h3>
                    <p>The defense was coordinated by Pablo, the strategist. But as his brothers fell—Josh the Wall, Justin the Soul, Stell the Arrow, and Ken the Ghost—something broke within Pablo. The man of intellect died, and a monster was born. He became The Wolf. He did not drive back the final Spanish commander with strategy; he drove him back with pure, terrifying rage. It was madness, born of grief, that finally cleared the seas.</p>
                    <h3 class="text-2xl font-bold text-white mt-8 mb-4">Final Chronicle: The Division</h3>
                    <p>Victory brought no peace. Pablo, consumed by grief and fury, lost his mind. He declared that the archipelago must be divided into Simula Island, Wakas Island, and Mahalima Island. The victors would rule the archipelago for one year, ensuring balance through eternal struggle.</p>
                </div>
            </div>
            <div class="aspect-video rounded-3xl overflow-hidden border-2 border-slate-800 shadow-2xl bg-slate-950">
                <iframe class="w-full h-full" src="https://www.youtube.com/embed/7MOEn8hvDrw" title="Chapters 1 & 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>

        <div id="view-history-ch2" class="hidden animate-fade-in space-y-8 max-w-4xl mx-auto pb-10">
            <button onclick="switchTab('history')" class="text-slate-400 hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-widest mb-4"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to Contents</button>
            <div class="bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between border-b border-slate-800 pb-6 mb-8 gap-4">
                    <div><span class="text-cyan-500 font-bold text-xs uppercase tracking-widest block mb-2">Chapter II</span><h2 class="text-4xl lg:text-5xl font-bold text-white font-mario">Child of the Wolf</h2></div>
                    <audio controls class="h-10 w-full md:w-64 rounded opacity-90" style="filter: invert(0.9) hue-rotate(180deg);"><source src="Wolf_Warrior_Becomes_Quiet_Guardian_Father.m4a" type="audio/mpeg"></audio>
                </div>
                <div class="story-text text-slate-300 text-lg">
                    <h3 class="text-2xl font-bold text-cyan-400 mb-4">The Sanctuary</h3>
                    <p>When the wars were finished and the seas grew quiet, Pablo returned to the Mahalima Sanctuary. It was here, among the stones and salt air, that he found a child left upon his doorstep. No name, no family—only a letter: “I will get him back in the near future.” Pablo took the child in, gave him food, gave him shelter, and raised him as his own.</p>
                    <h3 class="text-2xl font-bold text-cyan-400 mt-8 mb-4">The Legacy</h3>
                    <p>From seven to twelve, the boy learned blade and mind, endurance and wisdom. He was shaped by Pablo’s grief, but also by his love. Though the child did not yet know the full story of the Eternal Five, nor the ritual battles of the archipelago, destiny was already being written upon him.</p>
                    <h3 class="text-2xl font-bold text-cyan-400 mt-8 mb-4">The Revelation</h3>
                    <p>And so the tale of the Wolf did not end with rage—it continued with legacy. The child who had been left at the sanctuary’s door, the boy raised in shadow and moonlight... His name was Karle.</p>
                </div>
            </div>
            <div class="aspect-video rounded-3xl overflow-hidden border-2 border-slate-800 shadow-2xl bg-slate-950">
                <iframe class="w-full h-full" src="https://www.youtube.com/embed/7MOEn8hvDrw" title="Chapters 1 & 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>

        <div id="view-history-ch3" class="hidden animate-fade-in space-y-8 max-w-4xl mx-auto pb-10">
            <button onclick="switchTab('history')" class="text-slate-400 hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-widest mb-4"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to Contents</button>
            <div class="bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between border-b border-slate-800 pb-6 mb-8 gap-4">
                    <div><span class="text-teal-500 font-bold text-xs uppercase tracking-widest block mb-2">Chapter III</span><h2 class="text-4xl lg:text-5xl font-bold text-white font-mario">School of Simula</h2></div>
                    <audio controls class="h-10 w-full md:w-64 rounded opacity-90" style="filter: invert(0.9) hue-rotate(180deg);"><source src="The_Wolf’s_Secret_Training_For_Karle.m4a" type="audio/x-m4a"></audio>
                </div>
                <div class="story-text text-slate-300 text-lg">
                    <p>When Karle reached twelve years of age, Pablo spoke to him with gravity. "You must go to my brother Josue on Simula Island. You must connect with the people, for strength is not only in arms but in understanding."</p>
                    <h3 class="text-2xl font-bold text-teal-400 mt-8 mb-4">Four Years in Simula</h3>
                    <p>Time passed. From twelve to sixteen, Karle lived among the Simulayans. He made two friends, Rus and Jai, who became his companions in study and play. Yet Karle kept his secret. He wanted a low-key life, far from the shadow of legends.</p>
                    <h3 class="text-2xl font-bold text-teal-400 mt-8 mb-4">The Challenge Revealed</h3>
                    <p>On Karle’s sixteenth year, Pablo’s voice grew solemn. "It is time. The battle of the Mahalima Challenge approaches. Each year, five champions rise from Simula and five from Wakas. They fight upon Mahalima Island, and the victors rule the archipelago for one year. Who will step forward this time?"</p>
                </div>
            </div>
            <div class="aspect-video rounded-3xl overflow-hidden border-2 border-slate-800 shadow-2xl bg-slate-950">
                <iframe class="w-full h-full" src="https://www.youtube.com/embed/P3bWUOEeOok" title="Chapters 3 & 4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>

        <div id="view-history-ch4" class="hidden animate-fade-in space-y-8 max-w-4xl mx-auto pb-10">
            <button onclick="switchTab('history')" class="text-slate-400 hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-widest mb-4"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to Contents</button>
            <div class="bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between border-b border-slate-800 pb-6 mb-8 gap-4">
                    <div><span class="text-indigo-500 font-bold text-xs uppercase tracking-widest block mb-2">Chapter IV</span><h2 class="text-4xl lg:text-5xl font-bold text-white font-mario">The Trial of Youth</h2></div>
                    <audio controls class="h-10 w-full md:w-64 rounded opacity-90" style="filter: invert(0.9) hue-rotate(180deg);"><source src="The_Mahalima_Challenge_Rules_and_The_Wolf.m4a" type="audio/x-m4a"></audio>
                </div>
                <div class="story-text text-slate-300 text-lg">
                    <h3 class="text-2xl font-bold text-indigo-400 mb-4">The Teacher’s Call</h3>
                    <p>At sixteen, Karle’s quiet life in Simula shifted. He sat in class, hearing Pablo’s voice in his mind: "You must prepare." He looked up to realize the words were coming from Ms. Ramos, his teacher.</p>
                    <h3 class="text-2xl font-bold text-indigo-400 mt-8 mb-4">The Five Villages</h3>
                    <p>Each village—Aplaya Cove, Terrasol, Ironwood Grove, The Apex Sanctum, and Mire’s Edge—would send contenders to the coliseum. The five highest scorers would form the team to represent Simula.</p>
                    <h3 class="text-2xl font-bold text-indigo-400 mt-8 mb-4">The Shadow Above</h3>
                    <p>As the crowd settled in the great coliseum, a shadow moved across the top. The figure stepped into the light. The Wolf stood in the center. Half-human, half-beast, his face hidden behind a mask. The people gasped in awe. But Karle felt something more. "Why does this figure feel familiar?" he thought.</p>
                </div>
            </div>
            <div class="aspect-video rounded-3xl overflow-hidden border-2 border-slate-800 shadow-2xl bg-slate-950">
                <iframe class="w-full h-full" src="https://www.youtube.com/embed/P3bWUOEeOok" title="Chapters 3 & 4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>

        <div id="view-history-ch5" class="hidden animate-fade-in space-y-8 max-w-4xl mx-auto pb-10">
            <button onclick="switchTab('history')" class="text-slate-400 hover:text-white flex items-center gap-2 text-sm font-bold uppercase tracking-widest mb-4"><svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg> Back to Contents</button>
            <div class="bg-slate-900 border border-slate-800 p-8 md:p-12 rounded-3xl shadow-2xl relative overflow-hidden">
                <div class="flex flex-col md:flex-row items-start md:items-center justify-between border-b border-slate-800 pb-6 mb-8 gap-4">
                    <div><span class="text-rose-500 font-bold text-xs uppercase tracking-widest block mb-2">Chapter V</span><h2 class="text-4xl lg:text-5xl font-bold text-white font-mario">The Coliseum Battles</h2></div>
                    <audio controls class="h-10 w-full md:w-64 rounded opacity-90" style="filter: invert(0.9) hue-rotate(180deg);"><source src="Wolf_Revelation_and_Coliseum_Strategy_Breakdown.m4a" type="audio/x-m4a"></audio>
                </div>
                <div class="story-text text-slate-300 text-lg">
                    <h3 class="text-2xl font-bold text-rose-400 mb-4">Karle vs. Ernel</h3>
                    <p>The moon cast long shadows across the ruins. Ernel, the mystic mage, declared, "Your gadgets are no match for the ancient arts." But Karle’s Smartphone Strike blasted Ernel into defeat.</p>
                    <h3 class="text-2xl font-bold text-rose-400 mt-8 mb-4">Jai vs. Missy</h3>
                    <p>Missy blurred forward with Deadline Rush. Jai remained calm, using his Lotus Orb to reflect her Document Blast. THWACK! Missy was struck by her own attack. Jai followed with Guardian Angel.</p>
                    <h3 class="text-2xl font-bold text-rose-400 mt-8 mb-4">Rus vs. Denice</h3>
                    <p>Denice used her Heritage Fan to silence Rus, but his Jade Carapace reflected the damage. Rus roared, unleashing Emerald Overgrowth to root her completely. "I can’t move! I give up!"</p>
                    <h3 class="text-2xl font-bold text-rose-400 mt-8 mb-4">The Revelation</h3>
                    <p>Karle sat alone in the preparation chamber. The Wolf stood behind him and removed his mask. The face beneath was one Karle knew. "Pablo…" A storm of emotions surged through him.</p>
                    <h3 class="text-2xl font-bold text-rose-400 mt-8 mb-4">Karle vs. Karlos</h3>
                    <p>In the semi-finals, Karle faced Karlos, the Gymnastic Dynamo. Fueled by the truth of Pablo’s identity, Karle fought with renewed clarity. Brain beat brawn. Winner: Karle.</p>
                </div>
            </div>
            <div class="aspect-video rounded-3xl overflow-hidden border-2 border-slate-800 shadow-2xl bg-slate-950">
                <iframe class="w-full h-full" src="https://www.youtube.com/embed/KcjI8mMiQsw" title="Chapter V" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>

        <div id="view-warriors" class="hidden">
            <h2 class="text-5xl font-bold text-center mb-16 text-slate-100 font-mario mt-10" style="text-shadow: 2px 2px 0 #000;">The Eternal Five</h2>
            <div id="warriors-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-16 px-4"></div>
        </div>

        <div id="view-simula" class="hidden">
            <h2 class="text-5xl font-bold text-center mb-16 text-cyan-400 font-mario mt-10" style="text-shadow: 2px 2px 0 #000;">THE SIMULA FORCES</h2>
            <div id="simula-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16 px-4"></div>
        </div>

        <div id="view-wakas" class="hidden">
            <h2 class="text-5xl font-bold text-center mb-16 text-rose-500 font-mario mt-10" style="text-shadow: 2px 2px 0 #000;">THE WAKAS FORCES</h2>
            <div id="wakas-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16 px-4"></div>
        </div>

        <div id="hero-interface" class="fixed inset-0 bg-slate-950/98 backdrop-blur-xl z-[60] hidden flex-col animate-zoom-in overflow-y-auto">
            <div class="w-full max-w-7xl mx-auto p-4 md:p-8 flex-1 flex flex-col relative min-h-screen">
                <button onclick="closeHeroInterface()" aria-label="Close Hero Interface" class="absolute top-4 right-4 text-slate-300 hover:text-white transition-colors z-50 p-2 bg-slate-800 rounded-full hover:bg-rose-600 border border-slate-600 shadow-lg">
                    <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M18 6L6 18M6 6l12 12"/></svg>
                </button>
                <div id="hero-content" class="flex-1 flex flex-col justify-center"></div>
            </div>
        </div>

        <div id="view-aftermath" class="space-y-20 animate-fade-in hidden">
            <div class="text-center space-y-4 pt-10">
                <h2 class="text-5xl font-bold text-slate-100 font-mario" style="text-shadow: 2px 2px 0 #000;">Battle for the Aegis</h2>
                <p class="text-slate-400 text-xl max-w-3xl mx-auto">Two teams, one island. The Simula and Wakas clash for glory.</p>
            </div>
            <div onclick="openMapZoom()" class="cursor-pointer max-w-6xl mx-auto rounded-3xl overflow-hidden border-2 border-slate-700 shadow-2xl relative group hover:border-amber-500/50 transition-colors">
                <img src="Gemini_Generated_Image_2nujm22nujm22nuj.png" alt="Mahalima Island Map" class="w-full h-auto object-cover group-hover:scale-105 transition-transform duration-1000">
            </div>
            <div class="max-w-6xl mx-auto bg-gradient-to-br from-orange-950/40 to-slate-900 rounded-3xl border border-orange-700/30 overflow-hidden relative mb-16">
                <div class="grid lg:grid-cols-2 gap-0">
                    <div class="relative h-[500px] lg:h-auto border-r border-orange-900/30">
                        <img src="Gemini_Generated_Image_mb1di8mb1di8m.png" alt="The Leviathan" class="absolute inset-0 w-full h-full object-cover">
                    </div>
                    <div class="p-10 lg:p-16 flex flex-col justify-center space-y-8">
                        <div>
                            <div class="flex items-center gap-3 mb-3">
                                <span class="bg-red-900/50 text-red-400 border border-red-500/30 px-3 py-1 rounded text-xs font-bold uppercase tracking-widest">Immortal Boss</span>
                            </div>
                            <h2 class="text-4xl lg:text-6xl font-bold text-orange-500 font-mario" style="text-shadow: 2px 2px 0 #431407;">THE LEVIATHAN</h2>
                            <h3 class="text-xl text-orange-200/70 font-bold uppercase tracking-widest mt-1">Guardian of the Breach</h3>
                        </div>
                        <p class="text-slate-300 leading-relaxed text-lg">Like Roshan in the ancient texts, the Leviathan guards the breach between dimensions.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-social" class="space-y-12 animate-fade-in hidden">
            <div class="bg-slate-900 border border-slate-800 rounded-3xl overflow-hidden shadow-2xl mt-12 max-w-6xl mx-auto">
                <div class="p-8 border-b border-slate-800 bg-slate-900/50 flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-slate-100 font-mario" style="text-shadow: 2px 2px 0 #000;">Traveler's Log</h3>
                </div>
                <div class="grid lg:grid-cols-3 gap-0 min-h-[500px]">
                    <div class="lg:col-span-1 p-8 bg-slate-950/50 border-r border-slate-800">
                        <form id="comment-form" onsubmit="addComment(event)" class="space-y-6">
                            <div><label class="block text-xs uppercase text-slate-500 font-bold mb-2 tracking-widest">Name / Alias</label><input type="text" id="username" required placeholder="Enter your name..." class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-slate-200 focus:border-amber-500 focus:outline-none transition-colors"></div>
                            <div><label class="block text-xs uppercase text-slate-500 font-bold mb-2 tracking-widest">Message</label><textarea id="user-message" required rows="6" placeholder="Share your legend..." class="w-full bg-slate-900 border border-slate-700 rounded-lg p-3 text-slate-200 focus:border-amber-500 focus:outline-none transition-colors resize-none"></textarea></div>
                            <button type="submit" class="w-full bg-amber-600 hover:bg-amber-500 text-white font-bold py-3 rounded-lg text-sm transition-all flex items-center justify-center gap-3 shadow-lg hover:-translate-y-1 font-mario" style="text-shadow:none;">Post Message</button>
                        </form>
                    </div>
                    <div class="lg:col-span-2 p-8 max-h-[500px] overflow-y-auto custom-scrollbar bg-slate-900" id="comments-container"></div>
                </div>
            </div>
        </div>

    </main>

    <div id="map-modal" class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-sm hidden flex-col items-center justify-center p-4 md:p-10 cursor-zoom-out animate-fade-in" onclick="closeMapZoom()">
        <button onclick="closeMapZoom()" aria-label="Close Map" class="absolute top-6 right-6 text-slate-400 hover:text-white transition-colors z-50 p-2 bg-slate-800/50 rounded-full hover:bg-slate-700">Close</button>
        <img src="Gemini_Generated_Image_2nujm22nujm22nuj.png" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl relative z-10" onclick="event.stopPropagation()">
    </div>

    <script>
        // --- DATA ---
        const warriors = [
            { name: "Pablo", title: "The Strategist", role: "Leader / Mage", imageSrc: "image_3.png", color: "text-blue-400", stats: { str: 40, agi: 50, int: 95 } },
            { name: "Josh", title: "The Iron Wall", role: "Tank / Guardian", imageSrc: "image_4.png", color: "text-red-400", stats: { str: 95, agi: 30, int: 40 } },
            { name: "Justin", title: "The Mender", role: "Healer / Support", imageSrc: "image_2.png", color: "text-green-400", stats: { str: 30, agi: 45, int: 90 } },
            { name: "Ken", title: "The Wind Walker", role: "Scout / Jungler", imageSrc: "image_0.png", color: "text-yellow-400", stats: { str: 60, agi: 90, int: 50 } },
            { name: "Stell", title: "The Silent Arrow", role: "Marksman / Carry", imageSrc: "image_1.png", color: "text-purple-400", stats: { str: 45, agi: 95, int: 40 } }
        ];

        const simulaTeam = [
            { name: "BB Panda", title: "Gentle Giant", role: "Tank / Initiator", imageSrc: "Gemini_Generated_Image_ldaq34ldaq34ldaq.png", color: "text-slate-200", stats: { str: 90, agi: 60, int: 50 } },
            { name: "Jai", title: "Field Medic", role: "Healer / Support", imageSrc: "Gemini_Generated_Image_8izyq08izyq08izy.png", color: "text-teal-400", stats: { str: 60, agi: 40, int: 85 } },
            { name: "Missy", title: "The Architect", role: "Nuker / Disabler", imageSrc: "Gemini_Generated_Image_va4x2va4x2va4x2v.png", color: "text-indigo-400", stats: { str: 40, agi: 50, int: 95 } },
            { name: "Rus", title: "Jade Sentinel", role: "Tank / Durability", imageSrc: "Gemini_Generated_Image_yr6mxuyr6mxuyr6m.png", color: "text-emerald-400", stats: { str: 95, agi: 30, int: 40 } },
            { name: "Maria", title: "Nature's Voice", role: "Support / Utility", imageSrc: "Gemini_Generated_Image_ojrzwiojrzwiojrz.png", color: "text-lime-400", stats: { str: 50, agi: 40, int: 80 } },
            { name: "Frank", title: "Tidal Guardian", role: "Support / Tank", imageSrc: "Gemini_Generated_Image_x7yydpx7yydpx7yy.png", color: "text-cyan-400", stats: { str: 75, agi: 60, int: 50 } },
            { name: "Denice", title: "Heritage Weaver", role: "Buffer / Magic", imageSrc: "Gemini_Generated_Image_fha8zgfha8zgfha8.png", color: "text-yellow-500", stats: { str: 50, agi: 50, int: 90 } },
            { name: "GinoongRosas", title: "Floral Tempest", role: "Mage / Controller", imageSrc: "Gemini_Generated_Image_xyv8mpxyv8mpxyv8.png", color: "text-pink-400", stats: { str: 40, agi: 70, int: 70 } },
            { name: "Jade", title: "Vibrant Striker", role: "Carry / Evasive", imageSrc: "Gemini_Generated_Image_734yo734yo734yo7.png", color: "text-fuchsia-400", stats: { str: 50, agi: 95, int: 40 } },
            { name: "Charles", title: "Pathfinder", role: "Scout / Utility", imageSrc: "Gemini_Generated_Image_p0p8fop0p8fop0p8.png", color: "text-cyan-300", stats: { str: 50, agi: 85, int: 65 } }
        ];

        const wakasTeam = [
            { name: "Joy", title: "Graphic Burst", role: "Carry / Ranged", imageSrc: "Gemini_Generated_Image_grsgsfgrsgsfgrsg.png", color: "text-rose-400", stats: { str: 45, agi: 90, int: 55 } },
            { name: "Vincent", title: "Bamboo Brawler", role: "Tank / Stealth", imageSrc: "Gemini_Generated_Image_cba8odcba8odcba8.png", color: "text-orange-400", stats: { str: 85, agi: 50, int: 45 } },
            { name: "Rai", title: "Zen Master", role: "Support / Global", imageSrc: "Gemini_Generated_Image_pv4f4opv4f4opv4f.png", color: "text-amber-400", stats: { str: 50, agi: 60, int: 80 } },
            { name: "Kenji", title: "Demon Slayer", role: "Carry / Melee", imageSrc: "Gemini_Generated_Image_gsn3rlgsn3rlgsn3.png", color: "text-purple-500", stats: { str: 60, agi: 95, int: 60 } },
            { name: "Sylv", title: "Forest Phantom", role: "Scout / Evasive", imageSrc: "Gemini_Generated_Image_p6hw1ip6hw1ip6hw.png", color: "text-green-500", stats: { str: 40, agi: 85, int: 50 } },
            { name: "Nhors", title: "Crystal Ward", role: "Support / Utility", imageSrc: "Gemini_Generated_Image_ifr51pifr51pifr5.png", color: "text-blue-400", stats: { str: 45, agi: 40, int: 90 } },
            { name: "Jeff", title: "Spirit Guide", role: "Mage / Summoner", imageSrc: "Gemini_Generated_Image_4ovsov4ovsov4ovs.png", color: "text-yellow-200", stats: { str: 55, agi: 40, int: 95 } },
            { name: "Geno", title: "Heavy Hitter", role: "Tank / Disabler", imageSrc: "Gemini_Generated_Image_7lkmvg7lkmvg7lkm.png", color: "text-red-500", stats: { str: 95, agi: 30, int: 35 } },
            { name: "Berlyn", title: "Shutter Sniper", role: "Sniper / Support", imageSrc: "Gemini_Generated_Image_ip2oyiip2oyiip2o.png", color: "text-teal-300", stats: { str: 45, agi: 80, int: 70 } }
        ];

        const allHeroes = [...warriors, ...simulaTeam, ...wakasTeam];

        // --- UNIQUE ABILITY & INVENTORY DATABASE ---
        const abilityDB = {
            "Pablo": {
                q: { name: "Tidal Trap", desc: "Summons rising water to stun enemies in an area." },
                w: { name: "Reef Barrier", desc: "Creates a wall of sharp coral that blocks movement." },
                e: { name: "Tactical Mind", desc: "Passive: Increases nearby allies' mana regen." },
                r: { name: "Wolf's Rage", desc: "TRANSFORMATION: Becomes a melee beast with massive cleave damage." },
                items: ["Scythe of Vyse", "Refresher Orb", "Octarine Core", "Shiva's Guard", "Arcane Blink", "Aghanim's Scepter"],
                talents: ["+300 Mana", "+20% Spell Amp", "Wolf Form Cooldown"]
            },
            "Josh": {
                q: { name: "Shield Bash", desc: "Slams shield, stunning single target." },
                w: { name: "Iron Skin", desc: "Reduces incoming physical damage by 40%." },
                e: { name: "Brother's Keeper", desc: "Passive: Redirects damage from nearest ally to self." },
                r: { name: "Unmovable Object", desc: "Becomes immune to crowd control and heals rapidly." },
                items: ["Heart of Tarrasque", "Crimson Guard", "Assault Cuirass", "Blade Mail", "Guardian Greaves", "Pipe of Insight"],
                talents: ["+5 Armor", "+25 HP Regen", "Global Shield Aura"]
            },
            "Justin": {
                q: { name: "Soul Stitch", desc: "Heals target ally and links their health to yours." },
                w: { name: "Purifying Light", desc: "Removes debuffs from an ally." },
                e: { name: "Sacrifice", desc: "Passive: You take 10% less damage when near low HP allies." },
                r: { name: "Final Mending", desc: "Global heal that revives fallen allies within range." },
                items: ["Guardian Greaves", "Holy Locket", "Glimmer Cape", "Force Staff", "Aeon Disk", "Aghanim's Shard"],
                talents: ["+200 Heal", "-20s Ult CD", "AoE Purify"]
            },
            "Ken": {
                q: { name: "Wind Slash", desc: "Dashes through enemies, slowing them." },
                w: { name: "Silent Step", desc: "Becomes invisible and gains movement speed." },
                e: { name: "Jungle Mastery", desc: "Passive: Bonus damage against neutral creeps." },
                r: { name: "Ghost Strike", desc: "Teleports behind an enemy and deals massive damage." },
                items: ["Manta Style", "Diffusal Blade", "Butterfly", "Abyssal Blade", "Swift Blink", "Eye of Skadi"],
                talents: ["+15 Agility", "+2s Silence", "2 Charges Ghost Strike"]
            },
            "Stell": {
                q: { name: "Lightning Shot", desc: "Fires an arrow that chains lightning to nearby foes." },
                w: { name: "Eagle Eye", desc: "Passive: Increases attack range." },
                e: { name: "Pin Down", desc: "Roots an enemy in place for 3 seconds." },
                r: { name: "Rain of Terror", desc: "Global arrow volley that slows all enemies." },
                items: ["Daedalus", "Hurricane Pike", "Satanic", "Monkey King Bar", "Silver Edge", "Power Treads"],
                talents: ["+100 Range", "+20 Crit Damage", "Global Ult Pierce BKB"]
            },
            "Simula Vanguard": { // Karle
                q: { name: "Smartphone Strike", desc: "Hurls a device that explodes, stunning enemies." },
                w: { name: "Parkour Dash", desc: "Quickly slides to target location, evading projectiles." },
                e: { name: "Gadget Mastery", desc: "Passive: Reduces item cooldowns by 15%." },
                r: { name: "Utility Overload", desc: "Deploys all gadgets at once, silencing area." },
                items: ["Diffusal Blade", "Manta Style", "Hurricane Pike", "Butterfly", "Linken's Sphere", "Swift Blink"],
                talents: ["+20 Agility", "+2s Silence Duration", "Dash has 2 Charges"]
            },
            "Rus": {
                q: { name: "Jade Slam", desc: "Smashes ground with jade fist, slowing enemies." },
                w: { name: "Reflective Carapace", desc: "Returns 100% of damage taken for 3 seconds." },
                e: { name: "Hardened Gem", desc: "Passive: Grants bonus armor per missing HP." },
                r: { name: "Emerald Overgrowth", desc: "Roots all enemies in a massive radius." },
                items: ["Lotus Orb", "Blade Mail", "Eternal Shroud", "Heart of Tarrasque", "Radiance", "Phase Boots"],
                talents: ["+250 HP", "+20% Reflect Damage", "Global Root"]
            },
            "Jai": {
                q: { name: "Healing Drone", desc: "Deploys a drone that heals ally over time." },
                w: { name: "Vitality Ward", desc: "Prevents ally HP from dropping below 1." },
                e: { name: "Cleanse", desc: "Passive: Dispeels debuffs from nearby allies." },
                r: { name: "Guardian Angel", desc: "Grants physical immunity to entire team." },
                items: ["Holy Locket", "Guardian Greaves", "Glimmer Cape", "Force Staff", "Solar Crest", "Aeon Disk"],
                talents: ["+20% Heal Amp", "-30s Ult Cooldown", "AoE Cleanse"]
            },
            "Missy": {
                q: { name: "Deadline Rush", desc: "Charges forward, knocking back enemies." },
                w: { name: "Blueprints", desc: "Creates temporary cover/walls." },
                e: { name: "Organized Chaos", desc: "Passive: Spells have a chance to cast twice." },
                r: { name: "Master Plan", desc: "Global nuke that reveals all enemies." },
                items: ["Ethereal Blade", "Dagon", "Kaya and Sange", "Travel Boots", "Bloodstone", "Refresher Orb"],
                talents: ["+100 Cast Range", "+15% Spell Lifesteal", "Pure Damage Ult"]
            }
        };

        function getHeroDetails(hero) {
            // Check specific DB first
            if(abilityDB[hero.name]) {
                return {
                    abilities: [
                        { key: "Q", ...abilityDB[hero.name].q },
                        { key: "W", ...abilityDB[hero.name].w },
                        { key: "E", ...abilityDB[hero.name].e },
                        { key: "R", ...abilityDB[hero.name].r }
                    ],
                    talents: abilityDB[hero.name].talents,
                    inventory: abilityDB[hero.name].items
                };
            }

            // Fallback Generator
            let q = "Strike", w = "Defend", e = "Passive", r = "Ultimate";
            let items = ["Power Treads", "Magic Wand", "Iron Branch"];
            let talents = ["+10 Stats", "+200 Health", "+25 Damage"];
            
            if(hero.role.includes("Tank")) {
                q = "Fortify"; w = "Taunt"; e = "Thick Skin"; r = "Unstoppable";
                items = ["Vanguard", "Pipe of Insight", "Crimson Guard", "Heart of Tarrasque", "Assault Cuirass", "Blink Dagger"];
                talents = ["+5 Armor", "+400 Health", "AoE Taunt"];
            } else if(hero.role.includes("Mage") || hero.role.includes("Nuker")) {
                q = "Mystic Bolt"; w = "Hex"; e = "Mana Void"; r = "Chaos Meteor";
                items = ["Kaya", "Aghanim's Scepter", "Scythe of Vyse", "Travel Boots", "Octarine Core", "Blink Dagger"];
            } else if(hero.role.includes("Carry") || hero.role.includes("Marksman")) {
                q = "Rapid Fire"; w = "Evasion"; e = "Crit"; r = "Headshot";
                items = ["Daedalus", "Butterfly", "Satanic", "Manta Style", "Black King Bar", "Eye of Skadi"];
            } else if(hero.role.includes("Support") || hero.role.includes("Healer")) {
                q = "Mend"; w = "Protect"; e = "Aura"; r = "Revitalize";
                items = ["Mekansm", "Glimmer Cape", "Force Staff", "Observer Ward", "Spirit Vessel", "Guardian Greaves"];
            }

            return {
                abilities: [
                    { key: "Q", name: q, desc: "Primary active skill." },
                    { key: "W", name: w, desc: "Secondary utility skill." },
                    { key: "E", name: e, desc: "Passive enhancement." },
                    { key: "R", name: r, desc: "Ultimate ability." }
                ],
                talents: talents,
                inventory: items
            };
        }

        // --- NAVIGATION LOGIC ---
        function switchTab(tabId) {
            // Hide all main views
            ['home', 'history', 'warriors', 'simula', 'wakas', 'aftermath', 'social'].forEach(id => {
                const el = document.getElementById(`view-${id}`);
                if(el) el.classList.add('hidden');
            });
            // Hide History Chapters
            ['history-ch1', 'history-ch2', 'history-ch3', 'history-ch4', 'history-ch5'].forEach(id => {
                const el = document.getElementById(`view-${id}`);
                if(el) el.classList.add('hidden');
            });

            // Handle Dropdown State
            const btnWarriorsMain = document.getElementById('btn-warriors-main');
            if(['warriors', 'simula', 'wakas'].includes(tabId)) {
                btnWarriorsMain.classList.add('text-white', 'bg-slate-800');
                btnWarriorsMain.classList.remove('text-slate-400');
            } else {
                btnWarriorsMain.classList.remove('text-white', 'bg-slate-800');
                btnWarriorsMain.classList.add('text-slate-400');
            }

            // Show Selected View
            const selected = document.getElementById(`view-${tabId}`);
            if(selected) {
                selected.classList.remove('hidden');
                window.scrollTo(0,0);
            }
            
            closeHeroInterface();
            closeMapZoom();
        }

        // --- RENDER LOGIC ---
        function createCardHTML(w) {
            return `
                <div onclick="selectWarrior('${w.name}')" class="group relative p-6 rounded-3xl border border-slate-800 hover:border-slate-600 bg-slate-800/50 hover:bg-slate-800 transition-all cursor-pointer shadow-lg">
                    <div class="aspect-square rounded-2xl overflow-hidden mb-6 border-2 border-slate-700 group-hover:border-amber-500/50 transition-colors relative bg-gradient-to-br from-slate-800 to-slate-900">
                         <div class="absolute inset-0 flex items-center justify-center text-white/20 font-black text-6xl z-0 select-none">${w.name.charAt(0)}</div>
                         <img src="${w.imageSrc}" alt="${w.name}" class="absolute inset-0 w-full h-full object-cover z-10 transform group-hover:scale-110 transition-transform duration-700" 
                              onerror="this.style.display='none'">
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold ${w.color}">${w.name}</h3>
                        <p class="text-slate-400 text-xs font-bold uppercase tracking-widest mb-3">${w.title}</p>
                        <div class="h-1 w-12 bg-slate-700 rounded group-hover:w-full group-hover:bg-amber-500 transition-all duration-500"></div>
                    </div>
                </div>
            `;
        }

        function selectWarrior(name) {
            const hero = allHeroes.find(h => h.name === name);
            if(!hero) return;
            const details = getHeroDetails(hero);
            
            document.getElementById('hero-content').innerHTML = `
                <div class="flex flex-col lg:flex-row gap-8 items-stretch h-full">
                    <div class="lg:w-1/4 space-y-4 flex flex-col justify-center order-2 lg:order-1">
                        <h4 class="text-amber-500 font-bold uppercase tracking-widest border-b border-slate-700 pb-2">Abilities</h4>
                        ${details.abilities.map(ab => `
                            <div class="bg-slate-900/80 p-4 rounded-xl border border-slate-700 hover:border-amber-500/50 transition-colors group">
                                <div class="flex items-center gap-4 mb-2">
                                    <div class="w-12 h-12 rounded flex items-center justify-center font-black text-xl text-white shadow-lg skill-icon-${ab.key.toLowerCase()}">${ab.key}</div>
                                    <div><h5 class="font-bold text-slate-200">${ab.name}</h5></div>
                                </div>
                                <p class="text-xs text-slate-400 leading-relaxed">${ab.desc}</p>
                            </div>
                        `).join('')}
                    </div>
                    <div class="lg:w-2/4 relative flex flex-col items-center justify-center order-1 lg:order-2">
                        <div class="relative w-full max-w-md aspect-[3/4] rounded-3xl overflow-hidden border-4 border-slate-800 shadow-2xl bg-gradient-to-br from-slate-900 to-slate-800">
                            <div class="absolute inset-0 flex items-center justify-center text-white/10 font-black text-9xl z-0">${hero.name.charAt(0)}</div>
                            <img src="${hero.imageSrc}" class="absolute inset-0 w-full h-full object-cover z-10" onerror="this.style.display='none'">
                            <div class="absolute bottom-0 inset-x-0 bg-gradient-to-t from-slate-950 via-slate-950/80 to-transparent p-8 z-20">
                                <h1 class="text-5xl font-mario text-white mb-2" style="text-shadow: 2px 2px 0 #000;">${hero.name}</h1>
                                <p class="text-lg ${hero.color} font-bold uppercase tracking-widest">${hero.title}</p>
                                <div class="flex gap-6 mt-6 justify-center">
                                    <div class="text-center"><div class="text-red-500 font-bold text-xl">${hero.stats.str}</div><div class="text-[10px] text-slate-500 uppercase">STR</div></div>
                                    <div class="text-center"><div class="text-green-500 font-bold text-xl">${hero.stats.agi}</div><div class="text-[10px] text-slate-500 uppercase">AGI</div></div>
                                    <div class="text-center"><div class="text-blue-500 font-bold text-xl">${hero.stats.int}</div><div class="text-[10px] text-slate-500 uppercase">INT</div></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="lg:w-1/4 flex flex-col gap-6 justify-center order-3">
                        <div class="bg-slate-900/80 p-6 rounded-2xl border border-slate-700">
                            <h4 class="text-amber-500 font-bold uppercase tracking-widest border-b border-slate-700 pb-2 mb-4">Talents</h4>
                            <div class="space-y-3">
                                ${details.talents.map(t => `<div class="text-center p-2 rounded bg-slate-800 text-sm text-slate-300 border border-slate-600">${t}</div>`).join('')}
                            </div>
                        </div>
                        <div class="bg-slate-900/80 p-6 rounded-2xl border border-slate-700">
                            <h4 class="text-amber-500 font-bold uppercase tracking-widest border-b border-slate-700 pb-2 mb-4">Inventory</h4>
                            <div class="grid grid-cols-3 gap-3">
                                ${details.inventory.map(item => `<div class="aspect-square item-slot rounded flex items-center justify-center"><span class="text-[10px] text-slate-400 font-bold text-center px-1 leading-tight">${item}</span></div>`).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
            // Open Modal
            const modal = document.getElementById('hero-interface');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeHeroInterface() {
            const modal = document.getElementById('hero-interface');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = '';
        }

        function renderWarriors() { document.getElementById('warriors-grid').innerHTML = warriors.map(w => createCardHTML(w)).join(''); }
        function renderSimula() { document.getElementById('simula-grid').innerHTML = simulaTeam.map(w => createCardHTML(w)).join(''); }
        function renderWakas() { document.getElementById('wakas-grid').innerHTML = wakasTeam.map(w => createCardHTML(w)).join(''); }

        function loadComments() {
            const comments = JSON.parse(localStorage.getItem('clashComments')) || [];
            document.getElementById('comments-list').innerHTML = comments.map(c => `
                <div class="bg-slate-800/30 p-6 rounded-2xl border border-slate-700/50 mb-4 animate-slide-up">
                    <div class="flex justify-between items-start mb-2">
                        <span class="font-bold text-amber-500">${c.user}</span>
                        <span class="text-xs text-slate-500">${c.time}</span>
                    </div>
                    <p class="text-slate-300">${c.msg}</p>
                </div>
            `).join('');
        }

        function addComment(e) {
            e.preventDefault();
            const user = document.getElementById('username').value;
            const msg = document.getElementById('user-message').value;
            const comments = JSON.parse(localStorage.getItem('clashComments')) || [];
            comments.unshift({ user, msg, time: new Date().toLocaleDateString() });
            localStorage.setItem('clashComments', JSON.stringify(comments));
            loadComments();
            document.getElementById('comment-form').reset();
        }

        function openMapZoom() { 
            const m = document.getElementById('map-modal'); 
            m.classList.remove('hidden'); 
            m.classList.add('flex');
        }
        function closeMapZoom() { 
            const m = document.getElementById('map-modal'); 
            m.classList.add('hidden'); 
            m.classList.remove('flex');
        }

        window.onload = init;
    </script>
</body>
</html>
